<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Perfil ‚Äì UI</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="page">
    <section class="card">
      <!-- Header -->
      <header class="card__header">
        <div class="user">
          <div class="user__avatar">
            <img src="imgPerfil.jpg" alt="Avatar" />
          </div>
          <div class="user__name pill pill--pink">Maira Rodriguez</div>
        </div>

        <div class="level" aria-label="Nivel">
          <span class="level__label">LV</span>
          <span class="level__num">4</span>
          <div class="level__xp" aria-hidden="true">
            <div class="level__xp__fill" style="--pct:55%"></div>
          </div>
        </div>
        <a class="more" href="admin.html" title="Administrar skills">Admin</a>
         <button class="more" id="btn-logout" title="Cerrar sesi√≥n">Cerrar sesi√≥n</button>
      </header>

      <!-- Body -->
      <div class="card__body">
        <!-- Panel izquierdo (placeholder) -->
        <div class="left">
           <img src="imgAvatar.png" alt="Avatar" style="display: block; margin: 0 auto;" />
          <div class="left__dock">
          </div>
        </div>

        <!-- Panel derecho con tabs y contenido -->
        <div class="right">
          <nav class="tabs" role="tablist" aria-label="Secciones de perfil">
            <!-- Dejamos "Graphic" como activo por defecto -->
            <button class="tab" role="tab" aria-selected="false" aria-controls="panel-stats" id="tab-stats">Stats</button>
            <button class="tab tab--active" role="tab" aria-selected="true" aria-controls="panel-graphic" id="tab-graphic">Graphic</button>
          </nav>

          <!-- Panel: Graphic (telara√±a/radar) -->
          <section id="panel-graphic" role="tabpanel" aria-labelledby="tab-graphic" class="tabpanel is-active">
            <div class="graphic">
              <div class="graphic__wrap">
                <canvas id="radarChart" aria-label="Gr√°fico de habilidades"></canvas>
              </div>
            </div>
          </section>

          <!-- Panel: Stats (las barras sirven como fuente de datos) -->
          <section id="panel-stats" role="tabpanel" aria-labelledby="tab-stats" class="tabpanel">
            <div class="stats">
              <div class="stat">
                <div class="stat__icon">üß†</div>
                <div class="stat__bar">
                  <div class="bar"><div class="bar__fill" style="--pct:78%"></div></div>
                </div>
                <div class="stat__label">Programming</div>
              </div>
              <div class="stat">
                <div class="stat__icon">üì¶</div>
                <div class="stat__bar">
                  <div class="bar"><div class="bar__fill" style="--pct:28%"></div></div>
                </div>
                <div class="stat__label">3d Art</div>
              </div>
              <div class="stat">
                <div class="stat__icon">üéµ</div>
                <div class="stat__bar">
                  <div class="bar"><div class="bar__fill" style="--pct:55%"></div></div>
                </div>
                <div class="stat__label">Sound</div>
              </div>
              <div class="stat">
                <div class="stat__icon">üî≥</div>
                <div class="stat__bar">
                  <div class="bar"><div class="bar__fill" style="--pct:46%"></div></div>
                </div>
                <div class="stat__label">Level Design</div>
              </div>
              <div class="stat">
                <div class="stat__icon">üß©</div>
                <div class="stat__bar">
                  <div class="bar"><div class="bar__fill" style="--pct:40%"></div></div>
                </div>
                <div class="stat__label">Game Design</div>
              </div>
            </div>
          </section>
        </div>
      </div>

      <!-- Footer badges -->
      <footer class="card__footer">
        <button class="badge badge--gold" title="medalla">
          <span class="badge__icon">‚≠ê</span>
        </button>
        <button class="badge">
          <span class="badge__icon">üèÅ</span>
          <span class="badge__text">starter</span>
        </button>
        <button class="badge">
          <span class="badge__icon">üôÇ</span>
          <span class="badge__text">amable</span>
        </button>
        <button class="more">Ver m√°s</button>
      </footer>
    </section>
  </main>

  <script type="module">
  import { requireAuth, logout } from './auth.js';
  requireAuth(); // redirige a login si no hay usuario
  document.getElementById('btn-logout')?.addEventListener('click', logout);
</script>
<script src="script.js"></script>
</body>
</html>
